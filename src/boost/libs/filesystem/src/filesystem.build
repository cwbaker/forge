
local settings = build.push_settings {
    warning_level = 0;
    defines = { 
        -- Disable automatic linking to Boost libraries.
        "BOOST_ALL_NO_LIB" 
    };
};

for _, architecture in ipairs(settings.architectures) do 
    local boost_filesystem = build.Library ("boost_filesystem", architecture) {
        build.Cxx (architecture) {
            "codecvt_error_category.cpp",
            "operations.cpp",
            "path.cpp",
            "path_traits.cpp",
            "portability.cpp",
            "unique_path.cpp",
            "utf8_codecvt_facet.cpp",
        };
    };

    if platform == "windows" then
        boost_filesystem {
            build.Cxx (architecture) {
                "windows_file_codecvt.cpp"
            };
        };
    end
end

build.pop_settings();
